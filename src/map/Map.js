// Map value
const mapBG = [
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1],
	[   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1]
];

const mapFG = [
	[ 109, 108, 109, 108, 109, 108, 109, 108, 109, 108, 109, 108, 109, 108, 109, 108, 109, 108, 109, 108],
	[  93, 109,  39,  38,  39,  38,  39,  38,  39,  38,  39,  38,  39,  38,  39,  38,  39,  38,  93,  92],
	[ 109,  39,   0,   0,   0,  74,  75,   0,   0,   0,   0,   0,   0, 244, 229,   0,   0,   0,  38, 108],
	[  93,  23,   0,   0,   0,   0,   0,   0, 121,   0,   0, 121,   0,   0,   0,   0,   0,   0,  22,  92],
	[ 109,  39,   0,   0,   0,   0,   0,   0, 121,   0,   0, 121,   0,   0,   0,   0,   0,   0,  38, 108],
	[  93,  23,   0,   0, 137, 122, 122, 137, 121,   0,   0, 121, 137,   0,   0, 137,   0,   0,  22,  92],
	[ 109,  39,   0,   0, 137, 122, 122, 137, 121,   0,   0, 121, 137,   0,   0, 137,   0,   0,  38, 108],
	[  93,  23,   0,   0,   0,   0,   0,   0, 121,   0,   0, 121,   0,   0,   0,   0,   0,   0,  22,  92],
	[ 109,  39,   0, 121, 121, 121, 121, 121, 121,   0,   0, 121, 121, 121, 121, 121, 121,   0,  38, 108],
	[  93,  23,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  22,  92],
	[ 109,  39,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  38, 108],
	[  93,  23,   0, 121, 121, 121, 121, 121, 121,   0,   0, 121, 121, 121, 121, 121, 121,   0,  22,  92],
	[ 109,  39,   0,   0,   0,   0,   0,   0, 121,   0,   0, 121,   0,   0,   0,   0,   0,   0,  38, 108],
	[  93,  23,   0,   0, 137, 221, 221, 137, 121,   0,   0, 121, 137, 146, 146, 137,   0,   0,  22,  92],
	[ 109,  39,   0,   0, 137, 221, 221, 137, 121,   0,   0, 121, 137, 146, 146, 137,   0,   0,  38, 108],
	[  93,  23,   0,   0,   0,   0,   0,   0, 121,   0,   0, 121,   0,   0,   0,   0,   0,   0,  22,  92],
	[ 109,  39,   0,   0,   0,   0,   0,   0, 121,   0,   0, 121,   0,   0,   0,   0,   0,   0,  38, 108],
	[  93,  23,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  22,  92],
	[ 109, 108,  23,  22,  23,  22,  23,  22,  23,  22,  23,  22,  23,  22,  23,  22,  23,  22,  92, 108],
	[  93,  92,  93,  92,  93,  92,  93,  92,  93,  92,  93,  92,  93,  92,  93,  92,  93,  92,  93,  92]
];

// Map collision value
const mapCollisions = [
	[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
	[0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
	[0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0],
	[0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0],
	[0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0],
	[0, 1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0],
	[0, 1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0],
	[0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0],
	[0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0],
	[0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
	[0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
	[0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0],
	[0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0],
	[0, 1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0],
	[0, 1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0],
	[0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0],
	[0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0],
	[0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
	[0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
	[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];

// Map columns and rows
const mapC = mapBG[0].length;
const mapR = mapBG.length;

// Map width and height
const mapW = mapC * TILE_SIZE;
const mapH = mapR * TILE_SIZE;


// Draw map
function drawMap(map, ctx) {
	const row = map.length;
	const col = map[0].length;

	for (let y = 0; y < row; y++) {
		for (let x = 0; x < col; x++) {
			const valBG = mapBG[y][x] - 1;
			const valFG = mapFG[y][x] - 1;

			if (valBG > -1) sm.draw(ctx, 'grass', x * TILE_SIZE, y * TILE_SIZE); //
			if (valFG > -1) sm.drawMultiSprite(ctx, 'props', valFG, TILE_SIZE, TILE_SIZE, x * TILE_SIZE, y * TILE_SIZE);
		}
	}
}